<?php
$quote = $this->getQuote();
$item = $this->getItem();
$productId = Mage::getModel('sales/quote_item')->getProductId();

?>
<h1>Cart</h1>
<?php foreach ($item as $item): ?>
    <?php
    $product = Mage::getModel('catalog/product')->getCollection()
        ->addFieldToFilter('product_id', $item->getProductId())->getData();
    $quantity=$item->getId();
    ?>
    <?php foreach ($product as $product): ?>
        <div class="product-view">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-3">
                        <!-- Image and Quantity Box -->
                        <div class="image-quantity-box">
                            <?php
                            $imageLink = $product->getImageLink();
                            if (!empty($imageLink)) {
                                echo '<img src="' . Mage::getBaseUrl() . 'media/product/' . $imageLink . '" alt="Product Image" style="max-width: 100px;">';
                            } ?>
                            <p><strong>Quantity:</strong>

                                <input type="number" class="form-control" name="cart_data[qty]" id="qty" style="width: 100px;"
                                    value="<?php echo $item->getQty(); ?>">
                            </p>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <!-- Details Box -->
                        <div class="details-box">
                            <p><strong>Description:</strong>
                                <?php echo $product->getDescription(); ?>
                            </p>
                            <p><strong>Name:</strong>
                                <?php echo $product->getName(); ?>
                            </p>
                            <p><strong>Price:</strong>
                                <?php echo $product->getPrice(); ?>
                            </p>
                            <p><strong>Total:</strong>
                                <?php echo $item->getRowTotal(); ?>
                            </p>
                            <!-- Remove Button -->
                            <form action="<?php echo $this->getUrl("sales/quote/remove") ?>" method="POST">
                                <input type="hidden" name="item_id" value="<?php echo $quantity?>">
                                <button type="submit" class="btn btn-danger">Remove</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    <?php endforeach; ?>
<?php endforeach; ?>

<div class="container-fluid mt-3">
    <div class="row">
        <div class="col-md-12 text-center">

            <p><strong>Grand Total:</strong>
                <?php echo $quote->getGrandTotal(); ?>
            </p>
        </div>
    </div>
</div>
<div class="container-fluid mt-3">
    <div class="row">
        <div class="col-md-12 text-center">
            <form action="<?php echo $this->getUrl("sales/quote/checkout") ?>" method="POST">
                <button type="submit" class="btn btn-success">Checkout</button>
            </form>
        </div>
    </div>
</div>